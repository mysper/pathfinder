(function(t){function e(e){for(var o,a,l=e[0],u=e[1],i=e[2],b=0,d=[];b<l.length;b++)a=l[b],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);s&&s(e);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,l=1;l<n.length;l++){var u=n[l];0!==r[u]&&(o=!1)}o&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},c=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/pathfinder/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var i=0;i<l.length;i++)e(l[i]);var s=u;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2e49":function(t,e,n){"use strict";n("f8b2")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(t,e,n,r,c,a){var l=Object(o["m"])("Setting"),u=Object(o["m"])("Table");return Object(o["j"])(),Object(o["d"])(o["a"],null,[Object(o["g"])(l),Object(o["g"])(u)],64)}var c=n("5530"),a=n("5502"),l={key:0,cellspacing:"0",cellpadding:"0"};function u(t,e,n,r,c,a){var u=Object(o["m"])("Block"),i=Object(o["m"])("TableSetting"),s=Object(o["m"])("GameSetting");return Object(o["j"])(),Object(o["d"])(o["a"],null,["UNSETTING"!==t.mode?(Object(o["j"])(),Object(o["d"])("table",l,[(Object(o["j"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(t.table,(function(t,e){return Object(o["j"])(),Object(o["d"])("tr",{key:e},[(Object(o["j"])(!0),Object(o["d"])(o["a"],null,Object(o["l"])(t,(function(t,e){var n=t.d0,r=t.d1,c=t.color,l=t.uid;return Object(o["j"])(),Object(o["d"])("td",{key:e},[Object(o["g"])(u,{d0:n,d1:r,size:"50px",color:c,onClick:function(){return a.build(l)}},null,8,["d0","d1","color","onClick"])])})),128))])})),128))])):Object(o["c"])("",!0),Object(o["g"])(i),Object(o["g"])(s)],64)}function i(t,e,n,r,c,a){return Object(o["j"])(),Object(o["d"])("div",{class:"block",style:Object(o["i"])(a.style)},[Object(o["c"])("",!0),Object(o["c"])("",!0),Object(o["c"])("",!0)],4)}var s={name:"Block",props:["color","d0","d1","size"],computed:{sum:function(t){var e=t.d0,n=t.d1;return e+n}.bind(void 0),style:function(t){var e=t.color,n=t.size;return{width:n,height:n,background:e,fontSize:n}}.bind(void 0)}};n("2e49");s.render=i;var b=s,d={key:0};function m(t,e,n,r,c,a){return"UNSETTING"!==t.mode?(Object(o["j"])(),Object(o["d"])("div",d,[Object(o["e"])("button",{onClick:e[0]||(e[0]=function(){return t.setMode("BUILD-W")})},"Wall"),Object(o["e"])("button",{onClick:e[1]||(e[1]=function(){return t.setMode("BUILD-S")})},"Start"),Object(o["e"])("button",{onClick:e[2]||(e[2]=function(){return t.setMode("BUILD-E")})},"End"),Object(o["f"])(" "+Object(o["n"])(t.mode),1)])):Object(o["c"])("",!0)}var f={name:"TableSetting",computed:Object(c["a"])({},Object(a["c"])({mode:"mode"})),methods:Object(c["a"])(Object(c["a"])({},Object(a["b"])(["setMode","start"])),{},{back:function(){this.setMode("UNSETTING")}})};f.render=m;var j=f,O={key:0};function v(t,e,n,r,c,a){return"UNSETTING"!==t.mode?(Object(o["j"])(),Object(o["d"])("div",O,[Object(o["e"])("button",{onClick:e[0]||(e[0]=function(){return a.back&&a.back.apply(a,arguments)})},"Back"),Object(o["e"])("button",{onClick:e[1]||(e[1]=function(){return t.start()})},"start"),Object(o["e"])("button",{onClick:e[2]||(e[2]=function(){return t.init()})},"reset")])):Object(o["c"])("",!0)}var p={name:"GameSetting",computed:Object(c["a"])({},Object(a["c"])({mode:"mode"})),methods:Object(c["a"])(Object(c["a"])({},Object(a["b"])(["setMode","start","init"])),{},{back:function(){this.setMode("UNSETTING")}})};p.render=v;var h=p,w={name:"Table",components:{Block:b,TableSetting:j,GameSetting:h},computed:Object(c["a"])({},Object(a["c"])({table:"table/table",mode:"mode",w:"table/isWall"})),methods:Object(c["a"])(Object(c["a"])({},Object(a["b"])(["setMode","setStart","setEnd","setWall","start"])),{},{back:function(){this.setMode("UNSETTING")},build:function(t){switch(this.mode){case"BUILD-S":return this.setStart(t);case"BUILD-E":return this.setEnd(t);case"BUILD-W":return this.setWall(t);default:return}}})};w.render=u;var g=w,k={key:0},y=Object(o["e"])("label",null,"Row:",-1),S=Object(o["e"])("label",null,"Column:",-1);function B(t,e,n,r,c,a){return"UNSETTING"===t.mode?(Object(o["j"])(),Object(o["d"])("div",k,[y,Object(o["q"])(Object(o["e"])("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.row=t})},null,512),[[o["o"],c.row]]),S,Object(o["q"])(Object(o["e"])("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=function(t){return c.column=t})},null,512),[[o["o"],c.column]]),Object(o["e"])("button",{onClick:e[2]||(e[2]=function(){return a.submit&&a.submit.apply(a,arguments)})},"Submit")])):Object(o["c"])("",!0)}var T={name:"Setting",data:function(){return{row:0,column:0}},components:{},computed:Object(a["c"])(["mode"]),methods:Object(c["a"])(Object(c["a"])({},Object(a["b"])(["init"])),{},{submit:function(){var t=this.row,e=this.init,n=this.column;e({row:t,column:n})}})};T.render=B;var C=T,E={name:"App",components:{Table:g,Setting:C},methods:Object(c["a"])({},Object(a["b"])(["init","setStart"])),mounted:function(){}};E.render=r;var M=E,I=n("b85c"),U=(n("d3b7"),n("ddb0"),{setStart:function(t,e){var n=t.state,o=t.commit,r=t.dispatch,c=t.rootGetters,a=n.normal,l=n.startColor,u=n.start,i=n.end;return e===i?alert("Can't set the start point on End"):c["table/isWall"](e)?alert("You can set Start on the wall."):(-1!==u&&r("table/setBlock",{uid:u,color:a}),o("setStart",e),void r("table/setBlock",{uid:e,color:l}))},setEnd:function(t,e){var n=t.state,o=t.commit,r=t.dispatch,c=t.rootGetters,a=n.normal,l=n.end,u=n.endColor,i=n.start;return e===i?alert("Can't set the end point on the Start"):c["table/isWall"](e)?alert("You can set End on the wall."):(-1!==l&&r("table/setBlock",{uid:l,color:a}),o("setEnd",e),void r("table/setBlock",{uid:e,color:u}))},setWall:function(t,e){var n=t.dispatch,o=t.rootGetters,r=t.state,c=r.wallColor,a=r.normal,l=r.start,u=r.end;if(e===l)return alert("You can set wall on Start.");if(e===u)return alert("You can set wall on End.");var i=o["table/isWall"](e);console.log(i),n("table/setBlock",{uid:e,wall:!i,color:i?a:c})},setMode:function(t,e){var n=t.commit;n("setMode",e)}}),N={setStart:function(t,e){t.start=e},setEnd:function(t,e){t.end=e},setMode:function(t,e){t.mode=e}},G=n("15fd"),W=(n("d81d"),function(t){var e=z.getters.getColumn,n=e;return{row:Math.floor(t/n),column:t%n}}),_=["row","column"],L=["uid"],x=["uid"],D={namespaced:!0,state:{values:[[]],target:-1},mutations:{tableInit:function(t,e){t.values=e,t.target=-1},setBlock:function(t,e){var n=e.row,o=e.column,r=Object(G["a"])(e,_),a=t.values[n][o];a=Object(c["a"])(Object(c["a"])({},a),r),t.values[n][o]=a},_setBlock:function(t,e){var n=e.uid,o=Object(G["a"])(e,L),r=W(n),a=r.row,l=r.column,u=t.values[a][l];u=Object(c["a"])(Object(c["a"])({},u),o),t.values[a][l]=u},setTarget:function(t,e){t.target=e}},actions:{tableInit:function(t,e){for(var n=t.commit,o=e.row,r=e.column,c=[],a=0;a<o;++a){for(var l=[],u=0;u<r;++u){var i={uid:a*r+u,d0:-1,d1:-1,color:"white",wall:!1,action:!1};l.push(i)}c.push(l)}n("tableInit",c)},setBlock:function(t,e){var n=t.commit,o=e.uid,r=Object(G["a"])(e,x),a=W(o),l=a.row,u=a.column;n("setBlock",Object(c["a"])({row:l,column:u},r))},setBy:function(t,e){var n=t.state,o=t.commit,r=e.uid,c=e.by,a=W(r),l=a.row,u=a.column,i=n.values;i[l][u].by||o("setBlock",{row:l,column:u,by:c})}},getters:{table:function(t){var e=t.values;return e.map((function(t){return t.map((function(t){var e=t.uid,n=t.d0,o=t.d1,r=t.color;return{uid:e,d0:n,d1:o,color:r}}))}))},isWall:function(t){return function(e){var n=W(e),o=n.row,r=n.column;return t.values[o][r].wall}},isAction:function(t){return function(e){var n=W(e),o=n.row,r=n.column;return t.values[o][r].action}},getBy:function(t){return function(e){var n=W(e),o=n.row,r=n.column;return t.values[o][r].by}}}};function P(t,e,n,o){var r=Math.pow,c=Math.sqrt,a=Math.round;return a(c(r(t-n,2)+r(e-o,2)))}var Y=function(t,e){var n=W(t),o=W(e);return P(n.row,n.column,o.row,o.column)},z=Object(a["a"])({state:{row:0,column:0,mode:"UNSETTING",start:-1,end:-1,startColor:"lightblue",endColor:"red",normal:"white",wallColor:"black",openColor:"yellow",actionColor:"blue",pathColor:"green"},mutations:Object(c["a"])({init:function(t,e){var n=e.row,o=e.column;t.row=n,t.column=o,t.mode="BUILD-UNSELECT",t.start=-1,t.end=-1}},N),actions:Object(c["a"])(Object(c["a"])({init:function(t,e){var n,o,r=t.commit,c=t.dispatch,a=t.state;e?(n=e.row,o=e.column):(n=a.row,o=a.column),c("table/tableInit",{row:n,column:o}),r("init",{row:n,column:o})}},U),{},{start:function(t){var e=t.dispatch,n=t.state,o=n.start,r=n.end;return-1===o?alert("You have not set Start."):-1===r?alert("You have not set End."):void e("target")},action:function(t){var e=t.state,n=t.commit,o=t.dispatch,r=t.rootGetters,c=e.row,a=e.column,l=e.start,u=e.end,i=(e.openColor,e.table.target),s=[i+a,i-a];i%a===a-1?s.push(i-1):i%a===0?s.push(i+1):s.push(i+1,i-1);for(var b=0,d=s;b<d.length;b++){var m=d[b];if(!(m<0||m>=c*a||r["table/isAction"](m)||r["table/isWall"](m))){if(m===u)return o("repath",i);var f=Y(m,l),j=Y(m,u);n("table/_setBlock",{uid:m,d0:f,d1:j}),o("table/setBy",{uid:m,by:i})}}o("check")},target:function(t){var e=t.state,n=t.dispatch,o=t.commit,r=e.start,c=e.table.target;-1===c&&(o("table/setTarget",r),o("table/_setBlock",{uid:r,action:!0})),n("action")},check:function(t){var e,n=t.state,o=t.commit,r=t.dispatch,c=n.table.values,a=n.end,l=(n.actionColor,null),u=0,i=Object(I["a"])(c);try{for(i.s();!(e=i.n()).done;){var s,b=e.value,d=Object(I["a"])(b);try{for(d.s();!(s=d.n()).done;){var m=s.value;if(!(m.action||m.d1<0||m.d0<0)){var f=m.d1+m.d0;l||(u=m.uid,l=f),l>f&&(u=m.uid,l=f)}}}catch(j){d.e(j)}finally{d.f()}}}catch(j){i.e(j)}finally{i.f()}u!==a?(o("table/setTarget",u),o("table/_setBlock",{uid:u,action:!0}),r("target")):r("repath")},repath:function(t,e){var n=t.commit,o=t.state,r=t.rootGetters,c=o.pathColor,a=o.start,l=r["table/getBy"],u=e;while(u!==a)n("table/_setBlock",{uid:u,color:c}),u=l(u)}}),getters:{getSize:function(t){var e=t.row,n=t.column;return{row:e,column:n}},getColumn:function(t){var e=t.column;return e},getRow:function(t){var e=t.row;return e},mode:function(t){var e=t.mode;return e}},modules:{table:D}});Object(o["b"])(M).use(z).mount("#app")},f8b2:function(t,e,n){}});
//# sourceMappingURL=app.30ac816d.js.map